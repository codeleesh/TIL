켄트 벡의 구현 패턴
-------------------

### 03. 프로그래밍 이론

-	아무리 장황하게 많은 패턴을 늫어놓더라도 프로그래밍을 하면서 생기는 모든 상황을 커버할 수는 없습니다.
-	실제 프로그래밍에서는 각 패턴에서 설명하는 이론 외에도 결정 사항에 영향을 미치는 많은 동력이 존재합니다.
	-	동력은 가치와 원칙으로 나눌 수 있습니다.
	-	가치는 모든 프로그래밍에 적용되는 주제입니다.
	-	프로그램을 잘 짜는 사람은 타인과 커뮤니케이션을 중시합니다.
	-	코드의 과도한 복장성을 피하면서도 유연성 있는 코드 작성합니다.
	-	원칙은 가치처럼 언제나 적용되는 것은 아니지만 많은 패턴에서 사용됩니다.
	-	항상 중요하지만 떄로는 직접 적용하기 어려운 가치와, 적용법은 명확하지만 조금은 지엽적인 패턴 사이의 가교 역할을 하는 것이 바로 원칙입니다.
-	정리해보면, 패턴은 지금 당장 무엇을 해야 할지를 알려주고, 가치는 패턴을 사용해야 하는 동기를 알려주며, 원칙은 동기를 행동으로 어떻게 바꿔줄지 알려줍니다.

#### 가치

-	최고의 프로그래머는 프로그램의 확장성을 고려해서 프로그램을 짜지만, 불필요한 요소를 사용하지 않으며, 읽고 이해하기 쉬운 프로그램을 짭니다.

##### 커뮤니케이션

-	프로그램을 작성할 때 타인을 고려해서 프러그램을 짜면 여러가지 좋은 점이 있습니다.
	-	코드는 좀 더 이해하기 쉽고 깔끔해집니다.
	-	새로운 관점에서 코드를 바라보게 됩니다.
	-	이해하기 위해 스트레스가 줄어듭니다.
	-	다른 사람도 볼 만한 코드가 만들어집니다.

###### 커뮤니케이션의 중요성

-	크누쓰는 프로그램을 책처럼 읽을 수 있어야 한다고 주장하였습니다.
-	프로그램도 책처럼 줄거리가 있어야하며 리듬감을 지니고 상큼한 표현 등을 지녀야 한다는 것입니다.

###### 커뮤니케이션의 경제적인 효과

-	기존 코드를 읽고 수정하는 데 걸린 시간이 코드를 새로 짜느라 걸린 시간을 압도합니다.
-	내가 짜는 코드의 개발 비용을 줄이기 위해서는 이해하기 쉬운 코드를 작성해야 합니다.

```
커뮤니케이션에 관심을 기울이다 보면 좀더 현실적인 관점에서 코드를 짜게 됩니다.
우선 더 많은 생각을 하며 코드를 짜기 때문에 코드가 좋아집니다.
```

##### 단순성

-	프로그래밍을 할 때 해야 할 일 중 하나는 지금까지 짜 놓은 코드를 보고 불필요한 부분을 제거하는 것입니다.
-	단순성을 추구하다보면 혁신을 이룰 수 있습니다.

```
프로그램을 최대한 단순화 하라.
의미 없는 코드는 모두 제거하라.
설계 시에도 과도한 요소는 모두 빼고, 요구 사항을 분석해서 꼭 필요한 사항만을 뽑아내라
과도한 복잡도를 제거하면 코드를 새로운 관점에서 바라볼 수 있다.
```

##### 유연성

-	유연성은 비효율적인 코딩이나 설계를 정당화해주는 가치입니다.
-	프로그램은 유연해야 하지만, 프로그램이 발전하는 방향으로 유연해야 합니다.
-	프로그램 개발 비용은 대부분 처음 프로그램이 작성된 후부터 들어간다는 점을 생각해볼 때, 프로그램 수정은 가급적 쉬워야 합니다.
-	유연성이 있으면서도 당장 이득을 얻을 수 있는 패턴을 사용해야 합니다.
	-	당장 비용이 들어가지만, 앞으로 이득을 얻을 수 있을지 불확실한 패턴의 경우에는 일단 사용을 자제하는 편이 좋습니다.
-	유연성은 복잡도를 증가시킬 수 있습니다.
-	커뮤니케이션을 중시하면 유연성도 좋아집니다.

#### 원칙

-	원칙을 알아보는 것은 여러 모로 의미 있는 작업입니다.
-	주기율표를 통해 새로운 원소를 발견할 수 있듯이, 원칙을 명확하게 알고 있다면 새로운 패턴들을 만들어낼 수 있습니다.

##### 지역적 변화

-	코드를 수정할 때 함께 바꿔야 하는 부분을 최소화해야 합니다.

```
구현 패턴을 사용하는 중요한 이유는 프로그램 수정 비용을 낮추기 위함이므로, 지역적 변화의 원칙은 여러 패턴의 근간이 된다.
```

##### 최소 중복

-	중복된 코드가 많으면 많을수록 코드 수정은 어려워진다.
-	프로그램상의 어떤 개념을 수정했을 때 2개 이상의 클래스 계층을 수정해야 한다면, 이러한 수정은 지역적 변화의 원칙을 위배한다는 것입니다.
-	중복을 절대로 피해야 할 요소로 보기보다는 코드 수정 비용을 높이는 위험 요소로 보는 것이 좋습니다.
-	중복을 없애는 한 가지 방법은 프로그램을 여러 작은 부분-짧은 구문, 짧은 메소드, 작은 객체, 작은 패키지-로 나누는 것입니다.
	-	코드 간에는 서로 비슷한 부분도 많은데, 공통 부분이 존재하는 경우 패턴을 사용할 수 있습니다.

##### 로직과 데이터 결합

-	지역적 변화의 원칙에 근거한 다른 원칙은 로직과 데이터를 함께 유지하는 것입니다.
-	데이터와 그 데이터를 처리하는 로직을 밀접하게-가급적 같은 메소드 혹은 같은 객체 내에, 최소한 같은 패키지 내부에-배치하라 입니다.

##### 대칭성

-	프로그램에서 대칭성은 여러 곳에 존재합니다.
-	프로그램에서 대칭성을 찾아내서 명확히 표현해주면, 코드를 읽기가 수월해집니다.
-	대칭성이 결여된 다음 코드를 보면

```java
void process() {
  input();
  count();
  output();
}
```

-	위의 소스보다는 좀 더 구체적입니다.

```java
void process() {
  input();
  incrementCount();
  output();
}
```

-	하지만 아직도 부족한 부분이 있습니다. `input()`과 `output()` 메소드의 이름은 메소드의 목적을 반영하는 데 반해, `incrementCount()`는 메소드 구현을 반영합니다.

```java
void process() {
  input();
  taily();
  output();
}
```

-	`taily`는 일치시키다라는 뜻을 가지고 있는데, 위의 프로그램에서는 입력을 하나 받고(input) 그에 따라 카운터를 증가시켰으므로, 메소드의 목적에 따른 적합한 이름이라고 하는데, 사실 아직까지는 이해가 잘 되지는 않습니다.

-	코드 곳곳에서 비슷한 아이디어가 사용되었다면 대칭성에 따라 아이디어를 일관된 방식으로 표햔할 수 있습니다.

##### 선언적 표현

-	명령형 프로그램을 이해하기 위해서는 수행 흐름을 따라가야 합니다.
-	컴퓨터의 수행 상태를 생각하면서, 제어 흐름과 데이터 흐름을 추적해야 프로그램을 제대로 이해할 수 있습니다.

##### 변화율

-	함께 변하는 로직과 데이터를 함께 관리하고, 변화율이 다른 로직과 데이터를 분리하는 것입니다.
-	예를 들어 세금 관련 소프트웨어를 작성한다면, 일반 세금 루틴을 특정 년도 세금 계산 루틴과 별도로 구현할 것입니다. 코드의 변화율이 다르기 때문입니다.
