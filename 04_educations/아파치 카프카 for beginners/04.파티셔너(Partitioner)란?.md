# Partitioner

- 프로듀서가 데이터를 보내면 파티셔너를 통해서 브로커로 전송
- 파티셔너는 데이터를 토픽에 어떤 파티션에 넣을지 결정하는 역할
- 레코드에 포함된 메시지 키 또는 메시지 값에 따라서 파티션의 위치가 결정
- 프로듀서를 사용할때 파티셔너를 따로 설정하지 않으면 UniformStickyPartitioner로 설정
  - 이 파티셔너는 메시지키가 있을 때와 없을 때 다르게 동작
- 메시지 키가 있는 경우
  - 파티셔너에 의해서 특정한 해쉬값으로 생성
  - 해쉬값을 기준으로 어느 파티션으로 들어갈지 정해짐
  - 동일한 메시지 키를 가진 레코드는 동일한 해쉬값을 만들기 때문에 항상 동일한 파티션에 들어가는 것을 보장하기 때문에 순서를 지켜서 데이터 처리의 장점
- 메시지 키가 없는 경우
  - 라운드 로빈으로 파티션에 들어가게 됨
  - 파티션에 적절히 분배
- 커스텀 파티셔너 개발 가능
  - Partitioner 인터페이스 제공
  - ex) VIP 고객을 위한 빠른 데이터 처리
